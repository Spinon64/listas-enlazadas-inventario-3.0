<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inventario de Productos</title>
    <script src="./inventario.js"></script>
    <!-- <script src="./app.js"></script> -->
</head>
<body>

    <div align="center">
        <div>
            <form>
                <h2>Inventario</h2>
                <div id="Actividades"></div>
                Codigo: <input type="number" name="codigo" id="codigo">
                <br>
                Nombre: <input type="text" name="nombre" id="nombre">
                <br>
                Cantidad: <input type="number" name="cantidad" id="cantidad">
                <br>
                Costo: <input type="number" name="costo" id="costo">
                <br><br>
                <button type="button" id="btnAgregar">Agregar</button>
                <button type="button" id="btnEliminar">Eliminar</button>
                <button type="button" id="btnInsertar">Insertar</button>
                <button type="button" id="btnBuscar">Buscar</button>
                <button type="button" id="btnListar">Listado</button>
                <button type="button" id="btnListarInv">Listado Inverso</button>
                <button type="button" id="btnRestablecer">Borrar Detalles</button>
            </form>
        </div>
        <div id="listado"></div>
    </div>



</body>

<script>
let miAlmacen = new Inventario();


//  Boton agregar producto

let btnAgregar = document.getElementById("btnAgregar");
btnAgregar.addEventListener("click", (event)=>{
    let nombre = document.getElementById("nombre").value;
    let codigo = document.getElementById("codigo").value;
    let cantidad = document.getElementById("cantidad").value;
    let costo = document.getElementById("costo").value;

    let producto = new Producto(nombre, codigo, cantidad, costo);
    miAlmacen.agregar(producto);
    document.getElementById("listado");
    event.preventDefault();
});



//Boton para eliminar producto

let btnEliminar = document.getElementById("btnEliminar");
btnEliminar.addEventListener("click", (event) => {
    document.getElementById("Actividades").innerHTML;
    let codigo = document.getElementById("codigo").value;
    let bEliminar = miAlmacen.eliminar(codigo);
    if (bEliminar != null) {
        return document.getElementById("listado").innerHTML += `<p>¡Se ha eliminado el producto con el código ${codigo}!</p>`;
    }
    document.getElementById("listado").innerHTML += `<p>¡No existe el producto con el código ${codigo}!</p>`;
    event.defaultPrevented();
});

//Boton para listar producto

let btnListar = document.getElementById("btnListar");
btnListar.addEventListener("click", (event)=>{
    document.getElementById("listado").innerHTML += `<p> <textarea>${miAlmacen.listar()}</textarea>  </p>`
    event.preventDefault();
});

//Boton para listar inverso producto

let btnListarInv = document.getElementById("btnListarInv");
btnListarInv.addEventListener("click", (event) => {
    document.getElementById("listado").innerHTML +=` <textarea>${miAlmacen.listarInverso()}</textarea>`
    event.defaultPrevented();
});

//Boton para buscar producto

const btnBuscar = document.getElementById("btnBuscar");
    btnBuscar.addEventListener("click", (event) => {
        document.getElementById("Actividades").innerHTML;
        let codigo = document.getElementById("codigo").value;
        const producto = miAlmacen.buscar(codigo);
        if (producto != null) {
            return document.getElementById("listado").innerHTML += `<p>El producto con el código: ${codigo} existe</p>`;
        }
        document.getElementById("listado").innerHTML += `<p>No existe el producto con el código: ${codigo}</p>`;
        event.defaultPrevented();
    });

// Boton para restablecer\
const btnRestablecer = document.getElementById("btnRestablecer");
    btnRestablecer.addEventListener("click", (event) => {
        document.getElementById("Actividades").innerHTML = null;
        document.getElementById("listado").innerHTML = null;
        event.defaultPrevented();

    });

    //Boton Insertar

let btnInsertar = document.getElementById("btnInsertar");
btnInsertar.addEventListener("click", () => {
    document.getElementById("listado").innerHTML = `<h3>Insertar producto</h3>`;
    codigo = document.getElementById("codigo").value;
    nombre = document.getElementById("nombre").value;
    cantidad = document.getElementById("cantidad").value;
    costo = document.getElementById("costo").value; 
       

        let posicion = prompt("Escriba la posicion en donde desea insertar el producto", "1");
        if(posicion != null) {
            posicion = Number(posicion);
            if(posicion <= 0){
                posicion = 1;
            }
            let producto = new Producto(codigo, nombre, cantidad, costo);
            let msg = miAlmacen.insertarPosicion(posicion, producto);
            
                 if (msg != false) {
                    return document.getElementById("listado");
            }
        }
    });

        

        


</script>

</html>
